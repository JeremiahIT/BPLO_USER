{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{buildApiUrl}from'../config/api';import'./renewalpermit.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RenewalPermit=()=>{const navigate=useNavigate();const[form,setForm]=useState({businessName:'',businessAddress:'',ownerFullName:''});const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();// Submit to backend\nfetch(buildApiUrl('/renewals'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({b_name:form.businessName,b_address:form.businessAddress,owner_name:form.ownerFullName})}).then(async res=>{if(!res.ok){const errorData=await res.json();throw new Error(errorData.error||'Failed to submit renewal');}return res.json();}).then(data=>{alert('Renewal submitted successfully!');setForm({businessName:'',businessAddress:'',ownerFullName:''});navigate('/');}).catch(err=>{alert(`Error: ${err.message}`);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"renewal-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Renewal Permit\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"renewal-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Business Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"businessName\",value:form.businessName,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Business Address:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"businessAddress\",value:form.businessAddress,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Owner Full Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ownerFullName\",value:form.ownerFullName,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"renewal-form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/'),children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]})]});};export default RenewalPermit;","map":{"version":3,"names":["React","useState","useNavigate","buildApiUrl","jsx","_jsx","jsxs","_jsxs","RenewalPermit","navigate","form","setForm","businessName","businessAddress","ownerFullName","handleChange","e","target","name","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","b_name","b_address","owner_name","then","res","ok","errorData","json","Error","error","data","alert","catch","err","message","className","children","onSubmit","type","onChange","required","onClick"],"sources":["C:/BPLO_USER/user/src/permit/renewalpermit.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { buildApiUrl } from '../config/api';\nimport './renewalpermit.css';\n\nconst RenewalPermit = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    businessName: '',\n    businessAddress: '',\n    ownerFullName: ''\n  });\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // Submit to backend\n    fetch(buildApiUrl('/renewals'), {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        b_name: form.businessName,\n        b_address: form.businessAddress,\n        owner_name: form.ownerFullName\n      })\n    })\n      .then(async (res) => {\n        if (!res.ok) {\n          const errorData = await res.json();\n          throw new Error(errorData.error || 'Failed to submit renewal');\n        }\n        return res.json();\n      })\n      .then((data) => {\n        alert('Renewal submitted successfully!');\n        setForm({ businessName: '', businessAddress: '', ownerFullName: '' });\n        navigate('/');\n      })\n      .catch((err) => {\n        alert(`Error: ${err.message}`);\n      });\n  };\n\n  return (\n    <div className=\"renewal-form-container\">\n      <h2>Renewal Permit</h2>\n      <form onSubmit={handleSubmit} className=\"renewal-form\">\n        <label>\n          Business Name:\n          <input\n            type=\"text\"\n            name=\"businessName\"\n            value={form.businessName}\n            onChange={handleChange}\n            required\n          />\n        </label>\n        <label>\n          Business Address:\n          <input\n            type=\"text\"\n            name=\"businessAddress\"\n            value={form.businessAddress}\n            onChange={handleChange}\n            required\n          />\n        </label>\n        <label>\n          Owner Full Name:\n          <input\n            type=\"text\"\n            name=\"ownerFullName\"\n            value={form.ownerFullName}\n            onChange={handleChange}\n            required\n          />\n        </label>\n        <div className=\"renewal-form-actions\">\n          <button type=\"button\" onClick={() => navigate('/')}>Back</button>\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default RenewalPermit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}